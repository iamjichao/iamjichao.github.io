<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="https://fehub.net/feed.xml" rel="self" type="application/atom+xml" /><link href="https://fehub.net/" rel="alternate" type="text/html" /><updated>2022-01-23T22:03:10+08:00</updated><id>https://fehub.net/feed.xml</id><title type="html">FEHub</title><subtitle></subtitle><author><name>FEHub</name></author><entry><title type="html">Rem</title><link href="https://fehub.net/2021/01/02/rem/" rel="alternate" type="text/html" title="Rem" /><published>2021-01-02T00:00:00+08:00</published><updated>2021-01-02T00:00:00+08:00</updated><id>https://fehub.net/2021/01/02/rem</id><content type="html" xml:base="https://fehub.net/2021/01/02/rem/">&lt;h1 id=&quot;ä¸€æ¬¡ææ‡‚-rem-å¸ƒå±€&quot;&gt;ä¸€æ¬¡ææ‡‚ rem å¸ƒå±€&lt;/h1&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;åœ¨è¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œé¦–å…ˆè®¤è¯†å‡ ä¸ªåè¯ï¼Œä¾¿äºåç»­ç†è§£ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;åƒç´ &lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;åƒç´ &lt;/strong&gt;æ˜¯æŒ‡ç»„æˆå›¾åƒçš„å°æ–¹å—ï¼Œæ˜¯æ•´ä¸ªå›¾åƒä¸­ä¸å¯åˆ†å‰²çš„æœ€å°å•ä½ï¼Œæ¯ä¸ªå°æ–¹å—éƒ½æœ‰ä¸€ä¸ªæ˜ç¡®çš„ä½ç½®å’Œè¢«åˆ†é…çš„è‰²å½©æ•°å€¼ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;åˆ†è¾¨ç‡&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;åˆ†è¾¨ç‡&lt;/strong&gt;æ˜¯æŒ‡æ¯ä¸€ä¸ªæ–¹å‘ä¸Šçš„åƒç´ æ•°é‡ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è¯´çš„ 1920Ã—1080 åˆ†è¾¨ç‡ï¼Œå°±æ˜¯æŒ‡æ¨ªå‘æœ‰ 1920 ä¸ªåƒç´ ï¼Œç«–å‘æœ‰ 1080 ä¸ªåƒç´ ã€‚æè¿°åˆ†è¾¨ç‡çš„å•ä½æœ‰ï¼šdpiï¼ˆè®¾å¤‡åˆ†è¾¨ç‡ï¼Œdots per inchï¼Œç‚¹æ¯è‹±å¯¸ï¼‰ã€lpiï¼ˆç½‘å±åˆ†è¾¨ç‡ï¼Œlines per inchï¼Œçº¿æ¯è‹±å¯¸ï¼‰ã€ppiï¼ˆå›¾åƒåˆ†è¾¨ç‡ï¼Œpixels per inchï¼Œåƒç´ æ¯è‹±å¯¸ï¼‰å’Œ ppdï¼ˆè§’åˆ†è¾¨ç‡ï¼ŒPixels Per Degreeï¼Œåƒç´ æ¯åº¦ï¼‰ã€‚&lt;strong&gt;ppi å’Œ dpi æœ‰æ—¶ä¼šæ··ç”¨ã€‚&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ppi (pixels per inch)&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;å›¾åƒåˆ†è¾¨ç‡ï¼ˆImage Resolutionï¼‰æŒ‡å›¾åƒä¸­å­˜å‚¨çš„ä¿¡æ¯é‡ã€‚ppi ä¹Ÿå«åƒç´ å¯†åº¦å•ä½ï¼Œæ‰€è¡¨ç¤ºçš„æ˜¯æ¯è‹±å¯¸æ‰€æ‹¥æœ‰çš„åƒç´ æ•°é‡ã€‚ppi æ•°å€¼è¶Šé«˜ï¼Œä»£è¡¨æ˜¾ç¤ºå±èƒ½å¤Ÿä»¥è¶Šé«˜çš„å¯†åº¦æ˜¾ç¤ºå›¾åƒï¼Œæ˜¾ç¤ºçš„å¯†åº¦è¶Šé«˜ï¼Œæ‹ŸçœŸåº¦å°±è¶Šé«˜ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;dpi (dots per inch)&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;è®¾å¤‡åˆ†è¾¨ç‡ï¼ˆDevice Resolutionï¼‰åˆç§°è¾“å‡ºåˆ†è¾¨ç‡ï¼ŒæŒ‡çš„æ˜¯å„ç±»è¾“å‡ºè®¾å¤‡æ¯è‹±å¯¸ä¸Šå¯äº§ç”Ÿçš„ç‚¹æ•°ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ç‰©ç†åˆ†è¾¨ç‡&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;ç‰©ç†åˆ†è¾¨ç‡æ˜¯æŒ‡æ¶²æ™¶å±æœ€é«˜å¯æ˜¾ç¤ºçš„åƒç´ æ•°ï¼Œå®ƒæ˜¯æ¶²æ™¶å±å›ºæœ‰çš„å‚æ•°ä¸èƒ½è°ƒèŠ‚ï¼Œè¡¨ç¤ºæ–¹æ³•ä¸åˆ†è¾¨ç‡ç›¸åŒã€‚ä¸€èˆ¬æ¥è®²ç‰©ç†åˆ†è¾¨ç‡çš„å¤§å°å¯ç›´æ¥å†³å®šå±å¹•çš„æœ€é«˜åˆ†è¾¨ç‡ï¼Œåˆ†è¾¨ç‡ä¸ä¼šå¤§äºç‰©ç†åˆ†è¾¨ç‡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;CSS åƒç´  (CSS Pixel)&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;CSS åƒç´ æ˜¯ Web ç¼–ç¨‹çš„æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯CSSæ ·å¼ä»£ç ä¸­ä½¿ç”¨çš„é€»è¾‘åƒç´ ï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå®é™…å¹¶ä¸å­˜åœ¨ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;è®¾å¤‡ç‹¬ç«‹åƒç´  (Device Independent Pixel)&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;ä¸è®¾å¤‡æ— å…³çš„é€»è¾‘åƒç´ ï¼Œä»£è¡¨å¯ä»¥é€šè¿‡ç¨‹åºæ§åˆ¶ä½¿ç”¨çš„è™šæ‹Ÿåƒç´ ï¼Œæ˜¯ä¸€ä¸ªæ€»ä½“æ¦‚å¿µï¼ŒåŒ…æ‹¬äº† CSS åƒç´ ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;è®¾å¤‡åƒç´  (Device Pixel)&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;ç‰©ç†åƒç´ ï¼Œè®¾å¤‡èƒ½æ§åˆ¶æ˜¾ç¤ºçš„æœ€å°å•ä½ï¼Œæˆ‘ä»¬å¸¸è¯´çš„ 1920Ã—1080 åƒç´ åˆ†è¾¨ç‡å°±æ˜¯ç”¨çš„è®¾å¤‡åƒç´ å•ä½ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;devicePixelRatio&lt;/strong&gt;&lt;/p&gt;

    &lt;p&gt;è®¾å¤‡åƒç´  dp å’Œè®¾å¤‡ç‹¬ç«‹åƒç´  dips çš„æ¯”ä¾‹ï¼Œä¹Ÿå°±æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dpr = dp / dips&lt;/code&gt;ï¼Œåœ¨æµè§ˆå™¨ä¸­å¯ä»¥é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;window.devicePixelRatio&lt;/code&gt; è·å–åˆ°å¯¹åº”è®¾å¤‡çš„ dprã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š&lt;/p&gt;

&lt;p&gt;iPhone 6 çš„å±å¹•å‚æ•°æ˜¯ï¼Œ4.7è‹±å¯¸ï¼ˆå¯¹è§’çº¿ï¼‰Retina é«˜æ¸…æ˜¾ç¤ºå±ï¼Œ750 x 1334 px åˆ†è¾¨ç‡ï¼Œ326 ppiã€‚iPhone 6 æ¨ªå‘çš„ CSS åƒç´ ï¼ˆè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼‰ä¸º 375pxï¼Œdprï¼ˆdevicePixelRatioï¼‰æ˜¯ 2ï¼Œæ‰€ä»¥å®ƒçš„æ¨ªå‘åˆ†è¾¨ç‡ï¼ˆè®¾å¤‡åƒç´ ï¼‰æ˜¯ 750pxã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¿›å…¥æ­£é¢˜&quot;&gt;è¿›å…¥æ­£é¢˜&lt;/h2&gt;

&lt;p&gt;CSS ä¸­æœ‰ä¸¤ç§ç±»å‹çš„é•¿åº¦ï¼Œç»å¯¹é•¿åº¦å’Œç›¸å¯¹é•¿åº¦ï¼Œç»å¯¹é•¿åº¦æœ‰æˆ‘ä»¬å¸¸è§çš„ pxï¼Œpt ç­‰ï¼Œè€Œ rem æ˜¯ä¸€ä¸ªç›¸å¯¹é•¿åº¦ï¼Œå¦å¤–è¿˜æœ‰ emï¼Œvwï¼Œvh è¿™äº›éƒ½æ˜¯ç›¸å¯¹é•¿åº¦ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œå…·ä½“è¯·å‚è€ƒ &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Values_and_units&quot;&gt;CSS çš„å€¼ä¸å•ä½&lt;/a&gt;ã€‚rem å•ä½çš„æ„æ€æ˜¯â€œæ ¹å…ƒç´ çš„å­—ä½“å¤§å°â€ï¼Œå³ html å…ƒç´ çš„ font-size æ˜¯å¤šå°‘ pxï¼Œ1rem å°±æ˜¯å¤šå°‘ pxã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬æŒ‰è®¾è®¡ç¨¿çš„å°ºå¯¸å®ç°äº†ä¸€ä¸ªé¡µé¢ï¼Œç†è®ºä¸Šåªåœ¨è®¾è®¡ç¨¿å¯¹åº”åˆ†è¾¨ç‡çš„å±å¹•ä¸Šçœ‹æ‰æ˜¯æ­£å¥½çš„ï¼Œåœ¨æ›´å¤§æˆ–è€…æ›´å°çš„å±å¹•ä¸Šçœ‹å¯èƒ½å°±ä¸åˆé€‚äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¦ç”¨åˆ° rem å¸ƒå±€é€šè¿‡æ”¾å¤§æˆ–è€…ç¼©å°è®©é¡µé¢é€‚åº”å½“å‰çš„å±å¹•ã€‚&lt;/p&gt;

&lt;p&gt;rem å¸ƒå±€æ˜¯å¼¹æ€§å¸ƒå±€çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œè€Œå¼¹æ€§å¸ƒå±€å¯ä»¥ç®—ä½œå“åº”å¼å¸ƒå±€çš„ä¸€ç§ï¼Œä½†å“åº”å¼å¸ƒå±€ä¸æ˜¯å¼¹æ€§å¸ƒå±€ï¼Œå¼¹æ€§å¸ƒå±€å¼ºè°ƒç­‰æ¯”ç¼©æ”¾ï¼Œ100%è¿˜åŸï¼Œrem å¸ƒå±€çš„æœ¬è´¨å°±æ˜¯ç­‰æ¯”ç¼©æ”¾ï¼›å“åº”å¼å¸ƒå±€å¼ºè°ƒä¸åŒå±å¹•è¦æœ‰ä¸åŒçš„æ˜¾ç¤ºï¼Œæ¯”å¦‚åª’ä½“æŸ¥è¯¢ã€‚&lt;/p&gt;

&lt;h3 id=&quot;rem-å¸ƒå±€åŸç†&quot;&gt;rem å¸ƒå±€åŸç†&lt;/h3&gt;

&lt;p&gt;ä»¥è®¾è®¡ç¨¿çš„å°ºå¯¸ï¼ˆä¸€èˆ¬æ˜¯å®½åº¦ï¼‰ä¸ºæ ‡å‡†ï¼Œæ¯”å¦‚è®¾è®¡å¸ˆæŒ‰ç…§ 750px å®½åº¦çš„æ ‡å‡†åšè®¾è®¡ç¨¿ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•°å€¼ä»£è¡¨æ­¤æ—¶çš„ 1rem æ˜¯å¤šå°‘ï¼Œä¸ºäº†æ–¹ä¾¿è®¡ç®—æˆ‘ä»¬å– 100px ä¸º 1remï¼Œé‚£ä¹ˆè®¾è®¡ç¨¿çš„å®½åº¦å°±æ˜¯ 7.5remï¼Œä¸åŒè®¾å¤‡å¯¹åº”çš„ 1rem æ•°å€¼å³ html å…ƒç´ çš„ font-size å°±æ˜¯ deviceWidth / 7.5ï¼Œä¾‹å¦‚ iPhone6 æ¨ªå‘çš„CSS åƒç´ ä¸º 375pxï¼Œé‚£ä¹ˆå¯¹åº”çš„ 1rem æ•°å€¼å°±æ˜¯ 375 / 7.5=50pxï¼Œä¹Ÿå°±æ˜¯ html å…ƒç´ ä¸Šçš„ font-size çš„å€¼ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ä¸åŒè®¾å¤‡å¯¹åº”çš„ 1rem = deviceWidth / (è®¾è®¡ç¨¿å®½åº¦ / è®¾è®¡ç¨¿å‚ç…§çš„ 1rem å€¼)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æµè§ˆå™¨æ¸²æŸ“é¡µé¢é˜¶æ®µï¼Œåœ¨åŠ è½½ CSS ä¹‹å‰ï¼Œæˆ‘ä»¬é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;document.documentElement.clientWidth&lt;/code&gt; è·å–åˆ°å½“å‰è®¾å¤‡çš„ CSS åƒç´ ï¼Œæ ¹æ®ä¸Šé¢çš„å…¬å¼åŠ¨æ€è®¡ç®—å‡ºæ ¹å…ƒç´ çš„ font-size å€¼ï¼Œç„¶åæŠŠè¿™ä¸ªå€¼èµ‹ç»™ html å…ƒç´ ï¼Œè¿™äº›é€šè¿‡ JS åŠ¨æ€å®Œæˆã€‚åœ¨è§£æ CSS æ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ® html å…ƒç´ ä¸Š font-size çš„å€¼æŠŠ rem å€¼æ¢ç®—æˆé€‚åˆè‡ªå·±çš„ px å€¼ï¼Œè¿™æ ·å°±å®ç°äº†ä½¿ç”¨ä¸€å¥— CSS ä»£ç é€‚é…ä¸åŒçš„è®¾å¤‡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ³¨æ„äº‹é¡¹&quot;&gt;æ³¨æ„äº‹é¡¹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨å®ç° CSS ä»£ç æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æå‰è®¡ç®—å¥½ rem å€¼ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŒ‰è®¾è®¡ç¨¿æ ‡æ³¨å†™ pxï¼Œç„¶åé€šè¿‡ CSS å¤„ç†å™¨å»è½¬æ¢ï¼Œä½†è¦æ³¨æ„é…ç½®å¥½ px2rem çš„æ¯”ä¾‹ã€‚&lt;/li&gt;
  &lt;li&gt;HTML ä¸­è¦å¯¹è§†å£åšå¦‚ä¸‹è®¾ç½®ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;viewport&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æå‡ºç–‘é—®&quot;&gt;æå‡ºç–‘é—®&lt;/h3&gt;

&lt;p&gt;åˆ°è¿™é‡Œå¥½åƒå·²ç»å®ç°äº† rem å¸ƒå±€æ¥é€‚é…ä¸åŒçš„è®¾å¤‡ ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æœ‰ç‚¹ç–‘é—®ï¼Œè®¾è®¡å¸ˆè¯´è®¾è®¡ç¨¿æ˜¯æŒ‰ iPhone 6 æ¨ªå‘åˆ†è¾¨ç‡ 750px çš„æ ‡å‡†ç»™çš„ï¼Œæˆ‘ä»¬æ˜¯æŒ‰ 750px çš„ CSS åƒç´ æ¥å®ç°çš„ä»£ç ï¼Œæ‰€ä»¥æŒ‰ 375px çš„ CSS åƒç´ è®¡ç®—æ—¶å®é™…ä¸Šç»è¿‡äº†ä¸€æ¬¡ç¼©å°çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆ CSS åƒç´ ä½œä¸ºä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå®ƒå¯¹äºåŒä¸€è®¾å¤‡æ˜¯ä¸å˜çš„å—ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸Šè¾¹æˆ‘ä»¬åœ¨ HTML ä¸­è®¾ç½®äº† viewportï¼Œå…¶ä¸­çš„ scale è¡¨ç¤ºç¼©æ”¾æ¯”ä¾‹ï¼Œwidth = device-width è¡¨ç¤ºæ•´ä¸ªç½‘é¡µåœ¨è®¾å¤‡å†…æ˜¾ç¤ºæ—¶çš„é¡µé¢å®½åº¦ç­‰äºè®¾å¤‡é€»è¾‘åƒç´ ï¼ˆCSS åƒç´ ï¼‰å¤§å°ã€‚è¿™ä¸ª device-width çš„è®¡ç®—å…¬å¼ä¸ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;è®¾å¤‡çš„ç‰©ç†åˆ†è¾¨ç‡&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;devicePixelRatio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœ viewport çš„ scale æ ¹æ® devicePixelRatio åŠ¨æ€è®¾ç½®ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å½“ devicePixelRatio ä¸º 1 æ—¶ï¼Œscale ä¸º 1&lt;/li&gt;
  &lt;li&gt;å½“ devicePixelRatio ä¸º 2 æ—¶ï¼Œscale ä¸º 0.5&lt;/li&gt;
  &lt;li&gt;å½“ devicePixelRatio ä¸º 3 æ—¶ï¼Œscale ä¸º 0.3333&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼ŒdevicePixelRatio * scale å§‹ç»ˆç­‰äº 1ï¼Œé‚£ä¹ˆ device-width å°±å’Œè®¾å¤‡çš„ç‰©ç†åˆ†è¾¨ç‡å§‹ç»ˆç›¸ç­‰ã€‚iPhone 6 çš„ devicePixelRatio å€¼ä¸º 2ï¼Œå½“ scale ä¸º 0.5 æ—¶ï¼ŒiPhone 6 çš„æ¨ªå‘ CSS åƒç´ å°±å’Œè®¾è®¡ç¨¿ä¸€æ ·äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œscale çš„å€¼ä¼šæ”¹å˜è®¾å¤‡çš„ CSS åƒç´ ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç½‘æ˜“çš„åšæ³•&quot;&gt;ç½‘æ˜“çš„åšæ³•&lt;/h3&gt;

&lt;p&gt;ç½‘æ˜“ä½¿ç”¨äº†æˆ‘ä»¬ä¸Šè¾¹è¯´çš„ scale å›ºå®šä¸º 1 çš„æ–¹æ³•ã€‚ä»¥ iPhone 6 çš„ 750px è®¾è®¡ç¨¿ä¸ºä¾‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œä»¥ 100px çš„ font-size ä¸ºå‚ç…§ï¼Œæ­¤æ—¶ 1rem = 100px&lt;/li&gt;
  &lt;li&gt;è®¡ç®—è®¾è®¡ç¨¿çš„å®½åº¦ä¸º 750 / 100 = 7.5rem&lt;/li&gt;
  &lt;li&gt;é€šè¿‡ä»¥ä¸‹ä»£ç åŠ¨æ€è®¾ç½® html çš„ font-sizeï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fontSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;7.5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;å†™ CSS æ—¶ï¼Œå„å…ƒç´ çš„ CSS å°ºå¯¸ï¼ˆrem å€¼ï¼‰= è®¾è®¡ç¨¿æ ‡æ³¨å°ºå¯¸ / 100&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ·˜å®çš„åšæ³•&quot;&gt;æ·˜å®çš„åšæ³•&lt;/h3&gt;

&lt;p&gt;æ·˜å®ä½¿ç”¨äº†åŠ¨æ€è®¾ç½® scale çš„æ–¹æ³•ï¼Œå¦‚ä¸Šè¿°æ‰€è¯´æ ¹æ®è®¾å¤‡çš„ devicePixelRatio åŠ¨æ€è®¾ç½® scale çš„å€¼ï¼Œä½¿è®¾å¤‡çš„ç‰©ç†åƒç´ å’Œ CSS åƒç´ ç›¸ç­‰ã€‚è¿˜æ˜¯ä»¥ iPhone 6 çš„ 750px è®¾è®¡ç¨¿ä¸ºä¾‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä»¥ deviceWidth / 10 = 750 / 10 = 75px çš„ font-size ä¸ºå‚ç…§ï¼Œæ­¤æ—¶ 1rem = 75px&lt;/li&gt;
  &lt;li&gt;è®¡ç®—è®¾è®¡ç¨¿çš„å®½åº¦ä¸º 750 / 75 = 10rem&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åŠ¨æ€è®¾ç½® viewport çš„ scale&lt;/p&gt;

    &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;devicePixelRatio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;meta[name=&quot;viewport&quot;]&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;initial-scale=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;, maximum-scale=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;, minimum-scale=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;, user-scalable=no&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ä¸Šè¾¹è¯´äº†è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯é¡µé¢çš„å¤§å°ä¸è®¾è®¡ç¨¿ä¿æŒä¸€è‡´ï¼Œæ¯”å¦‚è®¾è®¡ç¨¿æ˜¯ 750px çš„æ¨ªå‘åˆ†è¾¨ç‡ï¼Œé‚£ä¹ˆå®é™…é¡µé¢çš„ device-widthï¼Œä»¥ iPhone 6 æ¥è¯´ï¼Œä¹Ÿç­‰äº750pxï¼Œè¿™æ ·çš„è¯è®¾è®¡ç¨¿ä¸Šæ ‡æ³¨çš„å°ºå¯¸åªè¦é™¤ä»¥æŸä¸€ä¸ªå€¼å°±èƒ½å¤Ÿè½¬æ¢ä¸º rem äº†ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åŠ¨æ€è®¡ç®— html çš„ font-size&lt;/p&gt;

    &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fontSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;å†™ CSS æ—¶ï¼Œå„å…ƒç´ çš„ CSS å°ºå¯¸ï¼ˆrem å€¼ï¼‰= è®¾è®¡ç¨¿æ ‡æ³¨å°ºå¯¸ / è®¾è®¡ç¨¿æ¨ªå‘åˆ†è¾¨ç‡ / 10 = è®¾è®¡ç¨¿æ ‡æ³¨å°ºå¯¸ / 75&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ä¸¾ä¸€åä¸‰&quot;&gt;ä¸¾ä¸€åä¸‰&lt;/h2&gt;

&lt;h3 id=&quot;ç§»åŠ¨ç«¯å’Œ-pc-ç«¯çš„ä¸´ç•Œç‚¹&quot;&gt;ç§»åŠ¨ç«¯å’Œ PC ç«¯çš„ä¸´ç•Œç‚¹&lt;/h3&gt;

&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œç§»åŠ¨ç«¯å’Œ PC ç«¯çš„é¡µé¢ä¸æ˜¯åŒä¸€ç§å±•ç¤ºæ–¹å¼ã€‚å¦‚æœæˆ‘ä»¬æŒ‰ iPhone 6 çš„æ ‡å‡†å®ç°çš„é¡µé¢ï¼Œé‚£ä¹ˆåœ¨ iPhone 6/7/8 Plus ç­‰æ›´å¤§çš„å±å¹•ä¸Šé¡µé¢ä¼šç­‰æ¯”æ”¾å¤§ï¼Œä½†å½“å±å¹•ç»§ç»­å¢å¤§æ—¶ï¼Œæ¯”å¦‚ iPad/PC ç­‰ï¼Œæˆ‘ä»¬å°±æ²¡å¿…è¦è®©å®ƒç»§ç»­æ”¾å¤§äº†ï¼Œæ­¤æ—¶åº”è¯¥å»è®¿é—® PC ç½‘ç«™ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨æ‰‹æœºè®¿é—®ç™¾åº¦çœ‹åˆ°çš„æ˜¯ç§»åŠ¨ç«¯çš„é¡µé¢ï¼Œç”¨ iPad æˆ–è€… PC è®¿é—®ç™¾åº¦çœ‹åˆ°çš„åˆ™æ˜¯ç”µè„‘ç‰ˆçš„é¡µé¢ã€‚&lt;/p&gt;

&lt;p&gt;å½“ deviceWidth å¤§äºæŸä¸ªå€¼æ—¶ï¼Œå°±å¯ä»¥è®© html çš„ font-size ä¸å†å˜åŒ–äº†ã€‚åŠ¨æ€è®¾ç½® html font-size çš„ä»£ç æ”¹åŠ¨ä¸€ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deviceWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 640 åªæ˜¯ä¸¾ä¾‹ï¼Œå…·ä½“æ•°å€¼æŒ‰éœ€æ±‚ç¡®å®š&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deviceWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;640&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deviceWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;640&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fontSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deviceWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;7.5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å·¥ä½œä¸­ä¸è®¾è®¡å¸ˆåä½œ&quot;&gt;å·¥ä½œä¸­ä¸è®¾è®¡å¸ˆåä½œ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;è§†è§‰è®¾è®¡é˜¶æ®µï¼Œè®¾è®¡å¸ˆæŒ‰å®½åº¦ 750pxï¼ˆiPhone 6/Xï¼‰åšè®¾è®¡ç¨¿ï¼Œé™¤å›¾ç‰‡å¤–æ‰€æœ‰è®¾è®¡å…ƒç´ ç”¨çŸ¢é‡è·¯å¾„æ¥åšã€‚è®¾è®¡å®šç¨¿ååœ¨ 750px çš„è®¾è®¡ç¨¿ä¸Šåšæ ‡æ³¨ï¼Œè¾“å‡ºæ ‡æ³¨å›¾ã€‚åŒæ—¶ç­‰æ¯”æ”¾å¤§ 1.5 å€ç”Ÿæˆå®½åº¦ 1125px çš„è®¾è®¡ç¨¿ï¼Œåœ¨ 1125px çš„ç¨¿å­é‡Œåˆ‡å›¾ã€‚&lt;/li&gt;
  &lt;li&gt;è®¾è®¡å¸ˆè¾“å‡ºå®½åº¦ 750px çš„è®¾è®¡æ ‡æ³¨å›¾å’Œ @3x åˆ‡å›¾èµ„æºäº¤ä»˜ç»™å¼€å‘å·¥ç¨‹å¸ˆã€‚&lt;/li&gt;
  &lt;li&gt;å¼€å‘å·¥ç¨‹å¸ˆæ‹¿åˆ° 750px æ ‡æ³¨å›¾å’Œ @3x åˆ‡å›¾èµ„æºï¼Œå®Œæˆ iPhone 6/Xï¼ˆ375ptï¼‰çš„ç•Œé¢å¼€å‘ã€‚å¼€å‘é˜¶æ®µç”¨æˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„ rem å¸ƒå±€å®ç°ã€‚&lt;/li&gt;
  &lt;li&gt;é€‚é…è°ƒè¯•é˜¶æ®µï¼ŒåŸºäº iPhone 6/X çš„ç•Œé¢æ•ˆæœï¼Œåˆ†åˆ«å‘ä¸Šå‘ä¸‹è°ƒè¯• iPhone 6/7/8 plus / iPhone 11ï¼ˆ414ptï¼‰ï¼ŒiPhone 12ï¼ˆ390ptï¼‰å’Œ iPhone 5S åŠä»¥ä¸‹ï¼ˆ320ptï¼‰çš„ç•Œé¢æ•ˆæœï¼Œç”±æ­¤å®Œæˆå¤§ä¸­å°ä¸‰å±é€‚é…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/xwqqq/article/details/54862279&quot;&gt;https://blog.csdn.net/xwqqq/article/details/54862279&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/af6dad66e49a&quot;&gt;https://www.jianshu.com/p/af6dad66e49a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/jiangzilong/p/6700023.html&quot;&gt;https://www.cnblogs.com/jiangzilong/p/6700023.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.quirksmode.org/blog/archives/2010/04/a_pixel_is_not.html&quot;&gt;https://www.quirksmode.org/blog/archives/2010/04/a_pixel_is_not.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.zhangxinxu.com/wordpress/2012/08/window-devicepixelratio/&quot;&gt;https://www.zhangxinxu.com/wordpress/2012/08/window-devicepixelratio/&lt;/a&gt;&lt;/p&gt;</content><author><name>FEHub</name></author><summary type="html">ä¸€æ¬¡ææ‡‚ rem å¸ƒå±€</summary></entry><entry><title type="html">ä½¿ç”¨ canvas å®ç°å›¾ç‰‡çš„åˆæˆ</title><link href="https://fehub.net/2020/05/16/canvas-for-image-composition/" rel="alternate" type="text/html" title="ä½¿ç”¨ canvas å®ç°å›¾ç‰‡çš„åˆæˆ" /><published>2020-05-16T00:00:00+08:00</published><updated>2020-05-16T00:00:00+08:00</updated><id>https://fehub.net/2020/05/16/canvas-for-image-composition</id><content type="html" xml:base="https://fehub.net/2020/05/16/canvas-for-image-composition/">&lt;h2 id=&quot;ä½¿ç”¨-canvas-å®ç°å›¾ç‰‡çš„åˆæˆ&quot;&gt;ä½¿ç”¨ canvas å®ç°å›¾ç‰‡çš„åˆæˆ&lt;/h2&gt;

&lt;h3 id=&quot;éœ€æ±‚&quot;&gt;éœ€æ±‚&lt;/h3&gt;

&lt;p&gt;æ ¹æ®ä¸åŒçš„æ¨èé“¾æ¥ç”Ÿæˆä¸åŒçš„äºŒç»´ç ï¼Œå°†äºŒç»´ç å’Œä¸€å¼ é™æ€çš„å›¾ç‰‡åˆæˆä¸€å¼ å®Œæ•´çš„æµ·æŠ¥ï¼Œç”¨äºä¸åŒæ¨èäººçš„æ¨å¹¿ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ€è·¯&quot;&gt;æ€è·¯&lt;/h3&gt;

&lt;p&gt;å…ˆç”¨ &lt;a href=&quot;https://github.com/davidshimjs/qrcodejs&quot;&gt;qrcode.js&lt;/a&gt; ç”Ÿæˆå¯¹åº”é“¾æ¥çš„äºŒç»´ç å›¾ç‰‡ï¼Œç„¶åç”¨ä¸€ä¸ªç”»å¸ƒ &lt;a href=&quot;https://www.runoob.com/html/html5-canvas.html&quot;&gt;canvas&lt;/a&gt; æŠŠé™æ€å›¾ç‰‡ç”»ä¸Šï¼Œå†æŠŠç”Ÿæˆçš„äºŒç»´ç ç”»åˆ°é™æ€å›¾ç‰‡ä¸Šçš„æŒ‡å®šä½ç½®ï¼Œæœ€åå°†æ•´ä¸ª canvas è½¬æˆå›¾ç‰‡å¹¶ä¸‹è½½ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®ç°&quot;&gt;å®ç°&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;é¦–å…ˆç”¨ qrcode.js ç”ŸæˆäºŒç»´ç ï¼Œä»£ç å¦‚ä¸‹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'qrcode'&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;qrcode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;QRCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;qrcode&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;https://iamjichao.net/&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;åˆ›å»ºä¸€ä¸ªç”»å¸ƒï¼Œå°†é™æ€å›¾ç‰‡ç”»ä¸Šå»ï¼Œä»£ç å¦‚ä¸‹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'canbox'&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;canvas&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'myCanvas'&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/canvas&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CARD&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;../assets/card.jpg&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;myCanvas&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2d&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// é¦–å…ˆç”»ä¸ŠèƒŒæ™¯å›¾&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CARD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// img.setAttribute('crossOrigin', 'anonymous');&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å¿…é¡»ç­‰å¾…å›¾ç‰‡åŠ è½½å®Œæˆ&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œæœ‰ä¸¤ç‚¹è¦æ³¨æ„ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ç”±äº canvas çš„ç»˜åˆ¶éœ€è¦çš„æ˜¯å·²ç»åŠ è½½å®Œæˆçš„å›¾ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ç»˜åˆ¶çš„ç´ æå›¾ç‰‡æ˜¯å·²ç»åŠ è½½å®Œæˆçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ img çš„ onload äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ html ä¸­å·²å­˜åœ¨çš„å›¾ç‰‡ï¼Œæˆ–è€…ç”¨jsåˆ›å»ºä¸€ä¸ªå›¾ç‰‡å¯¹è±¡ï¼›&lt;/li&gt;
  &lt;li&gt;å›¾ç‰‡åŠ è½½å¹¶ç»˜åˆ¶æ¶‰åŠäº†å›¾ç‰‡çš„è·¨åŸŸé—®é¢˜ï¼Œå› æ­¤å¦‚æœæ˜¯ä¸€å¼ åœ¨çº¿çš„å›¾ç‰‡ï¼Œéœ€è¦åœ¨å›¾ç‰‡æœåŠ¡å™¨ä¸Šè®¾ç½®è·¨åŸŸå¤´ï¼Œå¹¶ä¸”åœ¨å‰ç«¯åŠ è½½å›¾ç‰‡ä¹‹å‰å°† img æ ‡ç­¾çš„ crossOrigin å±æ€§è®¾ç½®ä¸º anonymousï¼Œå¦åˆ™ç»˜åˆ¶åˆ°ç”»å¸ƒçš„æ—¶å€™ä¼šæŠ¥è·¨åŸŸçš„é”™è¯¯ã€‚è¿™é‡Œæˆ‘ç”¨çš„æœ¬åœ°èµ„æºï¼Œæ‰€ä»¥æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä¸éœ€è¦è®¾ç½® crossOrigin å±æ€§ã€‚å…³äº crossOrigin å¯ä»¥å‚è€ƒ&lt;a href=&quot;http://ilucas.me/2017/04/19/crossorign-attribute-img-tag/&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;å°†ç”Ÿæˆçš„äºŒç»´ç ç”»åˆ°é™æ€å›¾ç‰‡æŒ‡å®šä½ç½®&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç›´æ¥ä½¿ç”¨ç”Ÿæˆçš„ base64 å›¾ç‰‡&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;qrImg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;qrcode&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// æŠŠ canvas è½¬æˆå›¾ç‰‡&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// const canvas = document.getElementById('qrcode').getElementsByTagName('canvas')[0];&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// const data = canvas.toDataURL('image/jpg');&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// const qrImg = new Image();&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// qrImg.src = data;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// qrImg.setAttribute('crossOrigin', 'Anonymous');&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// æŠŠäºŒç»´ç å›¾ç‰‡ç”»ä¸Š&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;qrImg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œè¦æ³¨æ„ï¼š&lt;/p&gt;

&lt;p&gt;qrcode.js ä¼šåœ¨å®¹å™¨å†…ç”Ÿæˆä¸€ä¸ª canvas å’Œä¸€ä¸ª imgï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠè¿™ä¸ª base64 å›¾ç‰‡ç”»åˆ°ç”»å¸ƒä¸Šï¼Œä¹Ÿå¯ä»¥æŠŠç”Ÿæˆçš„ canvas è½¬æˆå›¾ç‰‡ï¼Œå†ç”»åˆ°ç”»å¸ƒä¸Šã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å°†æ•´ä¸ªç”»å¸ƒè½¬æˆå›¾ç‰‡å¹¶ä¸‹è½½&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç”»ä¸ŠèƒŒæ™¯å›¾&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç”»ä¸ŠäºŒç»´ç &lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;qrImg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;qrcode&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// const canvas = document.getElementById('qrcode').getElementsByTagName('canvas')[0];&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// const data = canvas.toDataURL('image/jpg');&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// const qrImg = new Image();&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// qrImg.src = data;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// qrImg.setAttribute('crossOrigin', 'Anonymous');&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;qrImg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ç”»å¸ƒè½¬å›¾ç‰‡&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myCanvas&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;myCanvas&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myCanvas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toDataURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;image/jpg&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cardImg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;cardImg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// cardImg.setAttribute('crossOrigin', 'Anonymous');&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;iamjichao.net&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;saveFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;saveFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;save_link&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createElementNS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;http://www.w3.org/1999/xhtml&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;save_link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;href&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;save_link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;download&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;MouseEvents&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initMouseEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;save_link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dispatchEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;</content><author><name>FEHub</name></author><category term="HTML5" /><category term="JavaScript" /><summary type="html">ä½¿ç”¨ canvas å®ç°å›¾ç‰‡çš„åˆæˆ</summary></entry><entry><title type="html">ä½¿ç”¨ we-cropper å®ç°å¾®ä¿¡å°ç¨‹åºå¤´åƒè£å‰ªå¹¶ä¸Šä¼ </title><link href="https://fehub.net/2019/11/23/we-cropper/" rel="alternate" type="text/html" title="ä½¿ç”¨ we-cropper å®ç°å¾®ä¿¡å°ç¨‹åºå¤´åƒè£å‰ªå¹¶ä¸Šä¼ " /><published>2019-11-23T00:00:00+08:00</published><updated>2019-11-23T00:00:00+08:00</updated><id>https://fehub.net/2019/11/23/we-cropper</id><content type="html" xml:base="https://fehub.net/2019/11/23/we-cropper/">&lt;p&gt;å·¥ä½œä¸­éœ€è¦åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°å¤´åƒè£å‰ªå¹¶ä¸Šä¼ çš„åŠŸèƒ½ï¼Œå›¾ç‰‡ä¸Šä¼ é…åˆåç«¯å¯ä»¥å®ç°ï¼Œå›¾ç‰‡è£å‰ªåˆ™éœ€è¦åœ¨å°ç¨‹åºä¸­å®ç°ã€‚åœ¨ Github ä¸Šæ‰¾åˆ°ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºå›¾ç‰‡è£å‰ªå·¥å…·ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ä½¿ç”¨æ­¥éª¤ã€‚&lt;/p&gt;

&lt;p&gt;Github: &lt;a href=&quot;https://github.com/we-plugin/we-cropper&quot;&gt;we-cropper&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;å¼•ç”¨æ’ä»¶èµ„æº&quot;&gt;å¼•ç”¨æ’ä»¶èµ„æº&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;å…‹éš†é¡¹ç›®æˆ–è€…ç›´æ¥ä¸‹è½½ zip åŒ…&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/we-plugin/we-cropper.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;dist ç›®å½•ä¸‹æ˜¯æˆ‘ä»¬è¦ä½¿ç”¨çš„èµ„æºã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;we-cropper.js
we-cropper.min.js
we-cropper.wxml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;WXML&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é¦–å…ˆéœ€è¦åœ¨ WXML ç»“æ„ä¸­ç½®å…¥ä¸€ä¸ª canvas ä½œä¸ºè£å‰ªå›¾ç‰‡çš„å®¹å™¨ï¼Œå¹¶ç»‘å®šç›¸åº”çš„äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œç›´æ¥ä½¿ç”¨é¡¹ç›® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dist/we-cropper.wxml&lt;/code&gt; é‡Œçš„ç»“æ„ã€‚&lt;/p&gt;

&lt;p&gt;canvas çš„å®½é«˜éœ€è¦å’Œ we-cropper æ„é€ å™¨å‚æ•°ä¸­çš„ä¿æŒä¸€è‡´ã€‚&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;template&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;we-cropper&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;canvas&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;cropper&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;disable-scroll=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;bindtouchstart=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;touchStart&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;bindtouchmove=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;touchMove&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;bindtouchend=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;touchEnd&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;width:px;height:px;background-color: rgba(0, 0, 0, 0.8)&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;canvas-id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/canvas&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;canvas&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;cropper&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;disable-scroll=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;position: fixed; top: -px; left: -px; width:px;height:px;&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;canvas-id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/canvas&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/template&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;å¼•å…¥ WeCropper æ’ä»¶&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¼•ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dist/we-cropper.js&lt;/code&gt; æˆ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dist/we-cropper.min.js&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;WeCropper&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;we-cropper.min.js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// import WeCropper from 'we-cropper.js'&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;device&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getSystemInfoSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è·å–è®¾å¤‡ä¿¡æ¯&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;windowWidth&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç¤ºä¾‹ä¸ºä¸€ä¸ªä¸å±å¹•ç­‰å®½çš„æ­£æ–¹å½¢è£å‰ªæ¡†&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;windowHeight&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;cropperOpt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// å›¾ç‰‡çš„è·¯å¾„&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;cropper&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç”¨äºæ‰‹åŠ¿æ“ä½œçš„canvasç»„ä»¶æ ‡è¯†ç¬¦&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;targetId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;targetCropper&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç”¨äºç”¨äºç”Ÿæˆæˆªå›¾çš„canvasç»„ä»¶æ ‡è¯†ç¬¦&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;pixelRatio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pixelRatio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ä¼ å…¥è®¾å¤‡åƒç´ æ¯”&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// ç”»å¸ƒå®½åº¦&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç”»å¸ƒé«˜åº¦&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// æœ€å¤§ç¼©æ”¾å€æ•°&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç¼©æ”¾ç³»æ•°&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;cut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è£å‰ªæ¡†xè½´èµ·ç‚¹&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è£å‰ªæ¡†yè½´æœŸèµ·ç‚¹&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è£å‰ªæ¡†å®½åº¦&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è£å‰ªæ¡†é«˜åº¦&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;boundStyle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;rgba(0, 0, 0, 0.8)&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;wecropper-å®ä¾‹åŒ–&quot;&gt;WeCropper å®ä¾‹åŒ–&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;åœ¨ onload ä¸­å®ä¾‹åŒ–&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cropper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;WeCropper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cropperOpt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;beforeImageLoad&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;imageLoad&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;äº‹ä»¶ç»‘å®š&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;touchStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cropper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;touchStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;touches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;touches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;touchMove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cropper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;touchMove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;touches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;touches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;touchEnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cropper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;touchEnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;touches: e.touches.filter(i =&amp;gt; i.x !== undefined)&lt;/code&gt; æ˜¯ä¸ºäº†è§£å†³&lt;a href=&quot;https://github.com/we-plugin/we-cropper/issues/41&quot;&gt;ç§»åŠ¨å›¾ç‰‡åé»‘å±&lt;/a&gt;çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å›¾ç‰‡è½½å…¥&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®ä¾‹åŒ–æ—¶åœ¨å‚æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;this.cropperOpt&lt;/code&gt; ä¸­åŠ å…¥æ„é€ å‚æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src&lt;/code&gt;ï¼Œå½“æ£€æµ‹åˆ°æ„é€ å‚æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src&lt;/code&gt; æœ‰å€¼æ—¶ï¼Œä¼šå°è¯•é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wx.getImageInfo&lt;/code&gt; è·å–å›¾ç‰‡ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨å®ä¾‹åŒ–åé€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;this.cropper.pushOrign(src)&lt;/code&gt; æ–¹æ³•è½½å…¥å›¾ç‰‡ï¼Œå½“æ£€æµ‹åˆ°é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pushOrign&lt;/code&gt; æ–¹æ³•ä¼ å…¥çš„å€¼ä¸ä¸ºç©ºæ—¶ï¼Œä¼šå°è¯•é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wx.getImageInfo&lt;/code&gt; è·å–å›¾ç‰‡ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src&lt;/code&gt; æ˜¯å›¾ç‰‡çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€ä¸´æ—¶æ–‡ä»¶è·¯å¾„ã€å­˜å‚¨æ–‡ä»¶è·¯å¾„ã€ç½‘ç»œå›¾ç‰‡è·¯å¾„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç”Ÿæˆè£å‰ªå›¾ç‰‡&quot;&gt;ç”Ÿæˆè£å‰ªå›¾ç‰‡&lt;/h3&gt;

&lt;p&gt;è°ƒæ•´å¥½è¦è£å‰ªçš„å›¾ç‰‡ï¼Œç‚¹å‡»å®ŒæˆæŒ‰é’®ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getCropperImage&lt;/code&gt; æ–¹æ³•ï¼Œå¾—åˆ°è£å‰ªåå›¾ç‰‡çš„ä¸´æ—¶è·¯å¾„ï¼Œç„¶åä¸åç«¯é…åˆè¿›è¡Œå›¾ç‰‡ä¸Šä¼ å°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;getCropperImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wecropper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCropperImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;fileType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;jpg&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tempFilePath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// tempFilePath ä¸ºè£å‰ªåçš„å›¾ç‰‡ä¸´æ—¶è·¯å¾„&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tempFilePath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;wx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;previewImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tempFilePath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;urls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tempFilePath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;è·å–å›¾ç‰‡åœ°å€å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…³äºå¾®ä¿¡å°ç¨‹åºä¸Šä¼ æ–‡ä»¶çš„ API &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wx.uploadFile&lt;/code&gt;ï¼Œè¯¦è§&lt;a href=&quot;https://developers.weixin.qq.com/miniprogram/dev/api/network/upload/wx.uploadFile.html&quot;&gt;å¾®ä¿¡å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;</content><author><name>FEHub</name></author><category term="å¾®ä¿¡å°ç¨‹åº" /><summary type="html">å·¥ä½œä¸­éœ€è¦åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°å¤´åƒè£å‰ªå¹¶ä¸Šä¼ çš„åŠŸèƒ½ï¼Œå›¾ç‰‡ä¸Šä¼ é…åˆåç«¯å¯ä»¥å®ç°ï¼Œå›¾ç‰‡è£å‰ªåˆ™éœ€è¦åœ¨å°ç¨‹åºä¸­å®ç°ã€‚åœ¨ Github ä¸Šæ‰¾åˆ°ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºå›¾ç‰‡è£å‰ªå·¥å…·ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ä½¿ç”¨æ­¥éª¤ã€‚</summary></entry></feed>